(this.webpackJsonpvirtual_store=this.webpackJsonpvirtual_store||[]).push([[0],{79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(23),s=a.n(r),l=a(3),i=a(20),o=a(37),d=a(2),u="SIGNUP_REQUEST",b="SIGNUP_SUCCESS",j="SIGNUP_FAIL",m="SIGNIN_REQUEST",O="SIGNIN_SUCCESS",h="SIGNIN_FAIL",p="SIGNOUT",v="UPDATE_USER",f="UPDATE_USER_REQUEST",x="UPDATE_USER_SUCCESS",g="UPDATE_USER_FAIL",N=a(8),y="GET_CATEGORY_LIST_REQUEST",w="GET_CATEGORY_LIST_SUCCESS",E="GET_CATEGORY_LIST_FAIL",S="ADD_CATEGORY_REQUEST",C="ADD_CATEGORY_SUCCESS",_="ADD_CATEGORY_FAIL",k="UPDATE_CATEGORY_REQUEST",A="UPDATE_CATEGORY_SUCCESS",R="UPDATE_CATEGORY_FAIL",T="DELETE_CATEGORY_REQUEST",I="DELETE_CATEGORY_SUCCESS",U="DELETE_CATEGORY_FAIL",L="GET_CARS_REQUEST",q="GET_CARS_SUCCESS",D="GET_CARS_FAIL",F="GET_USER_CARS_REQUEST",G="GET_USER_CARS_SUCCESS",P="GET_USER_CARS_FAIL",Q="ADD_CAR_REQUEST",Y="ADD_CAR_SUCCESS",M="ADD_CAR_FAIL",V="UPDATE_CAR_REQUEST",B="UPDATE_CAR_SUCCESS",W="UPDATE_CAR_FAIL",H="DELETE_CAR_REQUEST",J="DELETE_CAR_SUCCESS",$="DELETE_CAR_FAIL",z="SEARCH_CAR_REQUEST",K="SEARCH_CAR_SUCCESS",X="SEARCH_CAR_FAIL",Z="SET_DETAIL_CAR",ee="ADD_TO_CART",te="REMOVE_TO_CART",ae="GET_ALL_CAR_REVIEWS_REQUEST",ce="GET_ALL_CAR_REVIEWS_SUCCESS",ne="GET_ALL_CAR_REVIEWS_FAIL",re="CREATE_REVIEW_REQUEST",se="CREATE_REVIEW_SUCCESS",le="CREATE_REVIEW_FAIL",ie={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{},token:null,loading:!1,error:null,signinErr:null,signupErr:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:case m:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case O:case b:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,user:t.payload.user,token:t.payload.token,error:null,signupErr:null,signinErr:null});case j:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,signupErr:t.payload});case h:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,signinErr:t.payload});case v:return Object(d.a)(Object(d.a)({},e),{},{user:t.payload.user,token:t.payload.token});case x:return Object(d.a)(Object(d.a)({},e),{},{user:t.payload});case p:return Object(d.a)(Object(d.a)({},e),{},{user:{},token:null,loading:!1,error:null,signinErr:null,signupErr:null});default:return e}},categoryList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categories:[],error:null,loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case w:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,categories:t.payload});case E:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});case C:return Object(d.a)(Object(d.a)({},e),{},{categories:[].concat(Object(N.a)(e.categories),[t.payload])});case A:return Object(d.a)(Object(d.a)({},e),{},{categories:e.categories.map((function(e){return e._id===t.payload._id?t.payload:e}))});case I:return Object(d.a)(Object(d.a)({},e),{},{categories:e.categories.filter((function(e){return e._id!==t.payload}))});default:return e}},categoryAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:{},error:null,loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case C:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,category:t.payload});case _:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});default:return e}},categoryUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:{},error:null,loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case A:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,category:t.payload});case R:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});default:return e}},categoryDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:null,loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case I:return Object(d.a)(Object(d.a)({},e),{},{loading:!1});case U:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});default:return e}},carList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cars:[],loading:!1,error:null,totalCars:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case q:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,cars:t.payload,totalCars:t.totalCars});case D:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});case Y:return Object(d.a)(Object(d.a)({},e),{},{cars:[]});default:return e}},userCarlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cars:[],loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case G:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,cars:t.payload});case P:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});default:return e}},addCar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{car:null,loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(d.a)(Object(d.a)({},e),{},{loading:!0,car:null});case Y:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,car:t.payload});case M:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload,car:null});default:return e}},updateCar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{car:{},loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case B:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,car:t.payload});case W:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});default:return e}},deleteCar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{deleteId:null,loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case J:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,deleteId:t.payload});case $:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});default:return e}},searchCarList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cars:[],loading:!1,error:null,totalCars:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case K:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,cars:t.payload,totalCars:t.totalCars});case X:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});default:return e}},detailCar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{car:{}},t=arguments.length>1?arguments[1]:void 0;return t.type===Z?Object(d.a)(Object(d.a)({},e),{},{car:t.payload}):e},updateUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,user:null,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case x:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,user:t.payload});case g:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cars:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(d.a)(Object(d.a)({},e),{},{cars:[].concat(Object(N.a)(e.cars),[t.payload])});case te:return Object(d.a)(Object(d.a)({},e),{},{cars:e.cars.filter((function(e){return e._id!==t.payload}))});default:return e}},allCarReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reviews:[],loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case ce:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,reviews:t.payload});case ne:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});case se:return Object(d.a)(Object(d.a)({},e),{},{reviews:[t.payload].concat(Object(N.a)(e.reviews))});default:return e}},createReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:{},loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case se:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,review:t.payload});case le:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,error:t.payload});default:return e}}},oe=Object(i.combineReducers)(ie),de=[a(38).a],ue=Object(i.createStore)(oe,Object(o.composeWithDevTools)(i.applyMiddleware.apply(void 0,de))),be=a(6),je=a(9),me=a(4),Oe=a.n(me),he=a(5),pe=a(39),ve=function(e,t){localStorage.setItem("jwt",t),localStorage.setItem("user",JSON.stringify(e))},fe=function(){return localStorage.getItem("jwt")},xe=a.n(pe).a.create({baseURL:"http://localhost:4000/api",withCredentials:!0});xe.interceptors.request.use((function(e){var t=fe();return t&&(e.headers.jwt=t),e}));var ge=xe,Ne=function(e){return ge.get("/car/car?".concat(e))},ye=function(e){return ge.post("/car/car",e)},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var t=Object(he.a)(Oe.a.mark((function t(a){var c,n,r,s,l,i;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:L}),c="page=".concat(e,"&limit=4&sort=-createdAt"),t.prev=2,t.next=5,Ne(c);case 5:n=t.sent,r=n.data,a({type:q,payload:r.data.cars,totalCars:r.totalDocuments}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),i=(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.err)||"something went wrong",a({type:D,payload:i});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},Ee=a(0),Se=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.carList})).totalCars,a=Object(je.h)(),n=+new URLSearchParams(a.search).get("page")||1,r=0!==t?Math.ceil(t/4):0;return Object(c.useEffect)((function(){e(we(n))}),[e,n]),t<=4?null:Object(Ee.jsx)("div",{className:"row py-3 ",children:Object(Ee.jsx)("div",{className:"col",children:Object(Ee.jsx)("nav",{"aria-label":"Page navigation example",children:Object(Ee.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(Ee.jsx)("li",{className:"page-item ".concat(n<=1?"disabled":""),children:Object(Ee.jsx)(be.b,{to:"/?page=".concat(n-1),className:"page-link",children:"Previous"})}),Object(N.a)(new Array(r)).map((function(e,t){return Object(Ee.jsx)("li",{className:"page-item ".concat(n===t+1?"active":""),children:Object(Ee.jsx)(be.b,{to:"/?page=".concat(t+1),className:"page-link",children:t+1})},t)})),Object(Ee.jsx)("li",{className:"page-item ".concat(n===r?"disabled":""),children:Object(Ee.jsx)(be.b,{to:"/?page=".concat(n+1),className:"page-link",children:"Next"})})]})})})})},Ce=function(e){return function(t){t({type:ee,payload:e})}},_e=function(e){return function(t){t({type:te,payload:e})}},ke=function(e){var t=e.car,a=Object(l.b)(),c=Object(je.g)().push,n=Object(l.c)((function(e){return e.cart})).cars.findIndex((function(e){return e._id===t._id}))>-1;return Object(Ee.jsx)("div",{className:"col-md-3 col-sm-6 col-12 mb-2",children:Object(Ee.jsxs)("div",{className:"card",children:[Object(Ee.jsx)(be.b,{to:"/car-details/".concat(t._id),onClick:function(e){e.preventDefault(),a(function(e){return function(t){t({type:Z,payload:e})}}(t)),c("/car-details/".concat(t._id))},style:{height:"300px"},children:Object(Ee.jsx)("img",{className:"card-img",src:t.image,alt:t.name,height:"300"})}),Object(Ee.jsxs)("div",{className:"card-body",children:[Object(Ee.jsx)("h4",{className:"card-title",children:t.name}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Category: ",t.category.name]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Price: $",t.price]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Mileage: ",t.mileage," miles"]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Brand: ",t.brand]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Location: ",t.location]}),Object(Ee.jsx)("div",{className:"d-grid",children:n?Object(Ee.jsxs)("button",{onClick:function(e){a(_e(e))}.bind(null,t._id),className:"btn btn-danger mt-3 btn-block",children:[Object(Ee.jsx)("i",{className:"fas fa-minus-circle mr-2 d-inline-block"}),"Remove from cart"]}):Object(Ee.jsxs)("button",{onClick:function(e){a(Ce(e))}.bind(null,t),className:"btn btn-primary mt-3 btn-block",children:[Object(Ee.jsx)("i",{className:"fas fa-shopping-cart"})," Add to cart"]})})]})]})})},Ae=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.carList})),a=t.loading,n=t.cars;return Object(c.useEffect)((function(){e(we())}),[e]),Object(Ee.jsxs)("div",{className:"row",children:[a&&Object(Ee.jsx)("div",{className:"col-md-6",style:{height:"35rem"},children:Object(Ee.jsx)("h5",{children:"Loading..."})}),!n.length&&!a&&Object(Ee.jsx)("h3",{children:"No Car Found"}),!a&&n.map((function(e){return Object(Ee.jsx)(ke,{car:e},e._id)}))]})},Re=function(e){return ge.post("/auth/signup",e)},Te=function(e){return ge.post("/auth/signin",e)},Ie=function(){var e=Object(c.useRef)(null),t=Object(l.b)(),a=Object(c.useRef)(null),n=Object(l.c)((function(e){return e.auth})),r=n.user,s=n.token,i=Object(l.c)((function(e){return e.cart})).cars,o=1===r.role,d=s,u=Object(je.h)().pathname,b=Object(je.g)().push,j=function(){if(window.innerWidth<=991&&!e.current.classList.contains("collapsed")){var t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});e.current.dispatchEvent(t)}};return Object(Ee.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top",children:Object(Ee.jsxs)("div",{className:"container",children:[Object(Ee.jsx)(be.b,{onClick:j,className:"navbar-brand",to:"/",children:Object(Ee.jsx)("i",{className:"fas fa-car"})}),Object(Ee.jsxs)(be.b,{className:"cartIcon cart-mobile",to:"/cart",children:[Object(Ee.jsx)("span",{className:"itemAmount",children:i.length}),Object(Ee.jsx)("i",{className:"fas fa-cart-plus"})]}),Object(Ee.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",ref:e,children:Object(Ee.jsx)("span",{className:"navbar-toggler-icon"})}),Object(Ee.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(Ee.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(Ee.jsx)("li",{onClick:j,className:"nav-item",children:Object(Ee.jsx)(be.b,{className:"nav-link ".concat("/"===u?"active":""),to:"/",children:"Home"})}),d&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("li",{onClick:j,className:"nav-item",children:Object(Ee.jsx)(be.b,{className:"nav-link ".concat("/profile"===u?"active":""),to:"/profile",children:r.fullName})}),o&&Object(Ee.jsx)("li",{className:"nav-item",children:Object(Ee.jsx)(be.b,{onClick:j,className:"nav-link ".concat("/dashboard"===u?"active":""),to:"/dashboard",children:"Dashboard"})}),Object(Ee.jsx)("li",{className:"nav-item",children:Object(Ee.jsx)(be.b,{onClick:j,className:"nav-link ".concat("/add-car"===u?"active":""),to:"/add-car",children:"Add Car"})}),Object(Ee.jsx)("li",{className:"nav-item",children:Object(Ee.jsx)(be.b,{onClick:function(e){e.preventDefault(),t(function(){var e=Object(he.a)(Oe.a.mark((function e(t){var a,c,n;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ge.get("/auth/signout");case 3:localStorage.removeItem("jwt"),localStorage.removeItem("user"),t({type:p}),window.location.assign("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.err)||"something went wrong",alert(n);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},className:"nav-link ".concat("/logout"===u?"active":""),to:"/logout",children:"Log out"})})]}),!d&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("li",{className:"nav-item",children:Object(Ee.jsx)(be.b,{onClick:j,className:"nav-link ".concat("/signin"===u?"active":""),to:"/signin",children:"Sign in"})}),Object(Ee.jsx)("li",{className:"nav-item",children:Object(Ee.jsx)(be.b,{onClick:j,className:"nav-link ".concat("/signup"===u?"active":""),to:"/signup",children:"sign up"})})]})]}),Object(Ee.jsxs)("form",{className:"d-flex",onSubmit:function(e){e.preventDefault();var t=a.current.value;t&&b("/search?title=".concat(t))},children:[Object(Ee.jsx)("input",{ref:a,className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(Ee.jsx)("button",{onClick:j,className:"btn btn-outline-success",type:"submit",children:"Search"})]}),Object(Ee.jsxs)(be.b,{className:"cartIcon cart-desktop",to:"/cart",children:[Object(Ee.jsx)("span",{className:"itemAmount",children:i.length}),Object(Ee.jsx)("i",{className:"fas fa-cart-plus"})]})]})]})})},Ue=function(){return Object(Ee.jsx)("div",{className:"container",children:Object(Ee.jsxs)("footer",{className:"d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top",children:[Object(Ee.jsxs)("div",{className:"col-md-4 d-flex align-items-center",children:[Object(Ee.jsx)("a",{href:"/",className:"mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1",children:Object(Ee.jsx)("i",{className:"fas fa-car"})}),Object(Ee.jsx)("span",{className:"text-muted",children:"\xa9 2021 Company, Inc"})]}),Object(Ee.jsxs)("ul",{className:"nav col-md-4 justify-content-end list-unstyled d-flex",children:[Object(Ee.jsx)("li",{className:"ms-3",children:Object(Ee.jsx)("a",{className:"text-muted",href:"!#",children:Object(Ee.jsx)("i",{className:"fab fa-twitter"})})}),Object(Ee.jsx)("li",{className:"ms-3",children:Object(Ee.jsx)("a",{className:"text-muted",href:"!#",children:Object(Ee.jsx)("i",{className:"fab fa-instagram"})})}),Object(Ee.jsx)("li",{className:"ms-3",children:Object(Ee.jsx)("a",{className:"text-muted",href:"!#",children:Object(Ee.jsx)("i",{className:"fab fa-facebook"})})})]})]})})},Le=function(e){var t=e.children,a=Object(l.b)();return Object(c.useEffect)((function(){if(fe()){var e=JSON.parse(localStorage.getItem("user")),t=localStorage.getItem("jwt");a(function(e,t){return function(a){a({type:v,payload:{user:e,token:t}})}}(e,t))}}),[a]),Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Ie,{}),Object(Ee.jsx)("main",{className:"container",style:{margin:"6rem auto 2rem auto"},role:"main",children:t}),Object(Ee.jsx)(Ue,{})]})},qe=a(16),De=function(){var e,t,a,c=Object(je.g)().push,n=Object(l.b)(),r=Object(l.c)((function(e){return e.auth})),s=r.loading,i=r.signupErr,o=Object(qe.a)(),m=o.register,O=o.handleSubmit,h=o.formState.errors;return Object(Ee.jsx)("div",{className:"row",children:Object(Ee.jsx)("div",{className:"col-md-6 col mx-auto card",children:Object(Ee.jsxs)("form",{className:"form-signin m-4",onSubmit:O((function(e){n(function(e,t){return function(){var a=Object(he.a)(Oe.a.mark((function a(c){var n,r,s,l,i;return Oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:u}),a.prev=1,a.next=4,Re(e);case 4:n=a.sent,r=n.data,c({type:b,payload:{user:r.data.user,token:r.token}}),ve(r.data.user,r.token),t("/"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),i=(null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.err)||"something went wrong",c({type:j,payload:i});case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(e,c))})),children:[Object(Ee.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"sign up"}),i&&Object(Ee.jsx)("div",{className:"alert alert-danger",children:i}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"fullName",className:"form-label",children:"Username"}),Object(Ee.jsx)("input",Object(d.a)({type:"text",name:"fullName",className:"form-control ".concat((null===h||void 0===h||null===(e=h.fullName)||void 0===e?void 0:e.message)?"is-invalid":""),id:"fullName",placeholder:"name"},m("fullName",{required:"name  is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"name is required"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(Ee.jsx)("input",Object(d.a)({type:"email",name:"email",className:"form-control ".concat((null===h||void 0===h||null===(t=h.email)||void 0===t?void 0:t.message)?"is-invalid":""),id:"email",placeholder:"name@example.com"},m("email",{required:"email is required",pattern:{value:/\S+@\S+\.\S+/,message:"Invalid email address"}}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"invalid email or password"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(Ee.jsx)("input",Object(d.a)({type:"password",className:"form-control ".concat((null===h||void 0===h||null===(a=h.password)||void 0===a?void 0:a.message)?"is-invalid":""),id:"password",name:"password",placeholder:"Password"},m("password",{required:"password is required",minLength:{value:8,message:"password "}}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"invalid email or password"})]}),Object(Ee.jsx)("button",{className:"btn btn-lg btn-primary btn-block",disabled:s,type:"submit",children:"Sign up"})]})})})},Fe=function(){var e,t,a=Object(je.g)().push,c=Object(l.b)(),n=Object(l.c)((function(e){return e.auth})),r=n.loading,s=n.signinErr,i=Object(qe.a)(),o=i.register,u=i.handleSubmit,b=i.formState.errors;return Object(Ee.jsx)("div",{className:"row",children:Object(Ee.jsx)("div",{className:"col-md-6 col mx-auto card",children:Object(Ee.jsxs)("form",{className:"form-signin m-4",onSubmit:u((function(e){c(function(e,t){return function(){var a=Object(he.a)(Oe.a.mark((function a(c){var n,r,s,l,i;return Oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:m}),a.prev=1,a.next=4,Te(e);case 4:n=a.sent,r=n.data,c({type:O,payload:{user:r.data.user,token:r.token}}),e.remember&&ve(r.data.user,r.token),t("/"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),i=(null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.err)||"something went wrong",c({type:h,payload:i});case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(e,a))})),children:[Object(Ee.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"sign in"}),s&&Object(Ee.jsx)("div",{className:"alert-danger alert",children:s}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(Ee.jsx)("input",Object(d.a)({type:"email",name:"email",className:"form-control ".concat((null===b||void 0===b||null===(e=b.email)||void 0===e?void 0:e.message)?"is-invalid":""),id:"email",placeholder:"name@example.com"},o("email",{required:"email is required",pattern:{value:/\S+@\S+\.\S+/,message:"Invalid email address"}}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"invalid email or password"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(Ee.jsx)("input",Object(d.a)({type:"password",className:"form-control ".concat((null===b||void 0===b||null===(t=b.password)||void 0===t?void 0:t.message)?"is-invalid":""),id:"password",name:"password",placeholder:"Password"},o("password",{required:"password is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"invalid email or password"})]}),Object(Ee.jsx)("div",{className:"checkbox mb-3",children:Object(Ee.jsxs)("label",{children:[Object(Ee.jsx)("input",Object(d.a)({name:"remember",type:"checkbox"},o("remember")))," ","Remember me"]})}),Object(Ee.jsx)("button",{disabled:r,className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Sign in"})]})})})},Ge=a(13),Pe=function(e){return ge.post("/category/category",e)},Qe=function(e,t){return ge.patch("/category/category/".concat(t),e)},Ye=function(e){return ge.delete("/category/category/".concat(e))},Me=function(){return function(){var e=Object(he.a)(Oe.a.mark((function e(t){var a,c,n,r,s;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.prev=1,e.next=4,ge.get("/category/category");case 4:a=e.sent,c=a.data,t({type:w,payload:c.data.categories}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),s=(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.err)||"something went wrong",alert(s),t({type:E,payload:s});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},Ve=function(e){var t=e.setEditItem,a=Object(l.b)(),n=Object(l.c)((function(e){return e.categoryList})),r=n.loading,s=n.categories;Object(c.useEffect)((function(){a(Me())}),[a]);var i=function(e){window.confirm("Your want to delete this category!")&&a(function(e){return function(){var t=Object(he.a)(Oe.a.mark((function t(a){var c,n,r;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:T}),t.prev=1,t.next=4,Ye(e);case 4:a({type:I,payload:e}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),r=(null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c||null===(n=c.data)||void 0===n?void 0:n.err)||"something went wrong",alert(r),a({type:U,payload:r});case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))},o=Object(Ee.jsx)("div",{});return r&&(o=Object(Ee.jsx)("p",{className:"lead",children:"Loading..."})),s.length>0&&(o=Object(Ee.jsx)("ul",{className:"list-group",children:s.map((function(e){return Object(Ee.jsxs)("li",{className:"list-group-item d-flex align-items-center justify-content-between",children:[Object(Ee.jsx)("span",{className:"mr-auto d-block",children:e.name}),Object(Ee.jsxs)("div",{className:"d-flex align-items-center",children:[Object(Ee.jsx)("button",{onClick:function(){return t(e)},className:"btn btn-primary btn-sm",children:Object(Ee.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(Ee.jsx)("button",{onClick:i.bind(null,e._id),className:"btn btn-danger mx-1 btn-sm",children:Object(Ee.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})),s.length||r||(o=Object(Ee.jsx)("h3",{children:"No category found"})),Object(Ee.jsxs)("div",{className:"col-md-6",children:[Object(Ee.jsx)("h5",{children:"Categories"}),o]})},Be=function(e){var t,a,n=e.editItem,r=e.resetEditItem,s=Object(l.b)(),i=Object(l.c)((function(e){return e.categoryAdd})),o=i.loading,u=i.error,b=Object(l.c)((function(e){return e.categoryUpdate})),j=b.loading,m=b.error,O=Object(qe.a)(),h=O.register,p=O.handleSubmit,v=O.formState.errors,f=O.setValue,x=O.setFocus;Object(c.useEffect)((function(){n&&(f("name",n.name),x("name"))}),[n,f,x]);return Object(Ee.jsx)("div",{className:"col-md-6",children:Object(Ee.jsxs)("form",{className:"form-signin m-4",onSubmit:p((function(e){var t,a;n?(s((t=e,a=n._id,function(){var e=Object(he.a)(Oe.a.mark((function e(c){var n,r,s,l,i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:k}),e.prev=1,e.next=4,Qe(t,a);case 4:n=e.sent,r=n.data,c({type:A,payload:r.data.category}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),i=(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.err)||"something went wrong",alert(i),c({type:R,payload:i});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())),r()):s(function(e){return function(){var t=Object(he.a)(Oe.a.mark((function t(a){var c,n,r,s,l;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:S}),t.prev=1,t.next=4,Pe(e);case 4:c=t.sent,n=c.data,a({type:C,payload:n.data.category}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),l=(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.err)||"something went wrong",alert(l),a({type:_,payload:l});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e)),f("name","")})),children:[Object(Ee.jsxs)("h1",{className:"h3 mb-3 font-weight-normal",children:[" ",n?"Update":"ADD"," Category"]}),(u||m)&&Object(Ee.jsx)("div",{className:"alert-danger alert",children:u||m}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"category-name",className:"form-label",children:"Category name"}),Object(Ee.jsx)("input",Object(d.a)({type:"text",name:"name",className:"form-control ".concat((null===v||void 0===v||null===(t=v.name)||void 0===t?void 0:t.message)?"is-invalid":""),defaultValue:n?n.name:"",id:"category-name",placeholder:"name"},h("name",{required:"name is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:null===v||void 0===v||null===(a=v.name)||void 0===a?void 0:a.message})]}),Object(Ee.jsxs)("button",{disabled:o||j,className:"btn btn-lg btn-primary btn-block",type:"submit",children:[n?"Update":"ADD"," Category"]})]})})},We=function(){var e=Object(l.c)((function(e){return e.auth})).user,t=Object(c.useState)(null),a=Object(Ge.a)(t,2),n=a[0],r=a[1];return 1===(null===e||void 0===e?void 0:e.role)?Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsx)(Ve,{setEditItem:r}),Object(Ee.jsx)(Be,{resetEditItem:function(){return r(null)},editItem:n})]}):Object(Ee.jsx)(je.a,{to:"/"})},He=function(){var e,t,a,n,r,s,i,o=Object(l.b)(),u=Object(l.c)((function(e){return e.addCar})).loading,b=Object(l.c)((function(e){return e.categoryList})),j=b.categories,m=b.loading,O=Object(qe.a)(),h=O.register,p=O.handleSubmit,v=O.formState.errors,f=O.setValue;Object(c.useEffect)((function(){o(Me())}),[o]);var x=function(){f("name",""),f("category",""),f("price",""),f("image",""),f("mileage",""),f("location",""),f("brand","")};return Object(Ee.jsx)("div",{className:"row",children:Object(Ee.jsx)("div",{className:"col-md-6 mx-auto",children:Object(Ee.jsxs)("form",{className:"form-signin m-4",onSubmit:p((function(e){o(function(e,t){return function(){var a=Object(he.a)(Oe.a.mark((function a(c){var n,r,s,l,i;return Oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:Q}),a.prev=1,a.next=4,ye(e);case 4:n=a.sent,r=n.data,c({type:Y,payload:r.data.car}),alert("Car added"),t(),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(1),i=(null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.err)||"something went wrong",alert(i),c({type:M,payload:i});case 16:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(e,x))})),children:[Object(Ee.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Add Car"}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(Ee.jsx)("input",Object(d.a)({type:"text",name:"name",className:"form-control ".concat((null===v||void 0===v||null===(e=v.name)||void 0===e?void 0:e.message)?"is-invalid":""),id:"name",placeholder:"name"},h("name",{required:"name  is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"name is required"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(Ee.jsx)("input",Object(d.a)({type:"number",name:"price",className:"form-control ".concat((null===v||void 0===v||null===(t=v.price)||void 0===t?void 0:t.message)?"is-invalid":""),id:"price",placeholder:"$99"},h("price",{required:"price is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"Price is required"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"price",className:"form-label",children:"Category"}),Object(Ee.jsxs)("select",Object(d.a)(Object(d.a)({disabled:m,className:"form-select ".concat((null===v||void 0===v||null===(a=v.category)||void 0===a?void 0:a.message)?"is-invalid":""),"aria-label":"Default select example"},h("category",{required:"category is required"})),{},{children:[m&&Object(Ee.jsx)("option",{children:"Fetching..."}),j.map((function(e){return Object(Ee.jsx)("option",{value:e._id,children:e.name},e._id)}))]})),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"Category is required"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"image",className:"form-label",children:"Brand"}),Object(Ee.jsx)("input",Object(d.a)({type:"text",name:"brand",className:"form-control ".concat((null===v||void 0===v||null===(n=v.brand)||void 0===n?void 0:n.message)?"is-invalid":""),id:"brand",placeholder:"Brand"},h("brand",{required:"Brand is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"Brand is required"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"image",className:"form-label",children:"Image"}),Object(Ee.jsx)("input",Object(d.a)({type:"text",name:"image",className:"form-control ".concat((null===v||void 0===v||null===(r=v.image)||void 0===r?void 0:r.message)?"is-invalid":""),id:"image",placeholder:"image URL"},h("image",{required:"image is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"image is required"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"comment",className:"form-label",children:"Location"}),Object(Ee.jsx)("input",Object(d.a)({type:"text",name:"location",className:"form-control ".concat((null===v||void 0===v||null===(s=v.location)||void 0===s?void 0:s.message)?"is-invalid":""),id:"location",placeholder:"location"},h("location",{required:"Location is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"Location is required"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"comment",className:"form-label",children:"Mileage"}),Object(Ee.jsx)("input",Object(d.a)({type:"number",name:"mileage",className:"form-control ".concat((null===v||void 0===v||null===(i=v.mileage)||void 0===i?void 0:i.message)?"is-invalid":""),id:"mileage",placeholder:"mileage"},h("mileage",{required:"mileage is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"mileage is required"})]}),Object(Ee.jsx)("button",{className:"btn btn-lg btn-primary btn-block",disabled:u,type:"submit",children:"submit"})]})})})},Je=function(){return Object(Ee.jsx)("div",{className:"col-md-2",children:Object(Ee.jsxs)("ul",{className:"nav flex-column",children:[Object(Ee.jsx)("li",{className:"nav-item",children:Object(Ee.jsx)(be.b,{className:"nav-link",to:"/profile",children:"Profile"})}),Object(Ee.jsx)("li",{className:"nav-item",children:Object(Ee.jsx)(be.b,{className:"nav-link",to:"/profile/cars",children:"My cars"})})]})})},$e=function(e){return ge.patch("/user/user/update",e)},ze=function(){var e,t,a=Object(l.b)(),n=Object(l.c)((function(e){return e.auth})).user,r=Object(l.c)((function(e){return e.updateUser})).loading,s=Object(qe.a)(),i=s.register,o=s.handleSubmit,u=s.formState.errors,b=s.setValue;Object(c.useEffect)((function(){b("fullName",n.fullName),b("email",n.email)}),[b,n]);return Object(Ee.jsx)("div",{className:"col-md-10",children:Object(Ee.jsxs)("form",{className:"form-signin m-4",onSubmit:o((function(e){var t;a((t=e,function(){var e=Object(he.a)(Oe.a.mark((function e(a,c){var n,r,s,l,i,o;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:f}),n=c().auth.token,e.prev=2,e.next=5,$e(t);case 5:r=e.sent,s=r.data,a({type:x,payload:s.data.user}),ve(s.data.user,n),alert("user updated"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),o=(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.err)||"something went wrong",alert(o),a({type:g,payload:o});case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()))})),children:[Object(Ee.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Profile"}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"fullName",className:"form-label",children:"Full Name"}),Object(Ee.jsx)("input",Object(d.a)({type:"text",name:"fullName",className:"form-control ".concat((null===u||void 0===u||null===(e=u.fullName)||void 0===e?void 0:e.message)?"is-invalid":""),id:"fullName",placeholder:"name"},i("fullName",{required:"name  is required"}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"name is required"})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(Ee.jsx)("input",Object(d.a)({type:"email",name:"email",className:"form-control ".concat((null===u||void 0===u||null===(t=u.email)||void 0===t?void 0:t.message)?"is-invalid":""),id:"email",placeholder:"name@example.com"},i("email",{required:"email is required",pattern:{value:/\S+@\S+\.\S+/,message:"Invalid email address"}}))),Object(Ee.jsx)("div",{className:"invalid-feedback",children:"invalid email or password"})]}),Object(Ee.jsx)("button",{className:"btn btn-lg btn-primary btn-block",disabled:r,type:"submit",children:"Update"})]})})},Ke=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.userCarlist})),a=t.loading,n=t.cars;Object(c.useEffect)((function(){e(function(){var e=Object(he.a)(Oe.a.mark((function e(t,a){var c,n,r,s,l,i;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:F}),c=a().auth.user,e.prev=2,e.next=5,o=c._id,ge.get("/car/car?user=".concat(o));case 5:n=e.sent,r=n.data,t({type:G,payload:r.data.cars}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i=(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.err)||"something went wrong",t({type:P,payload:i});case 14:case"end":return e.stop()}var o}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}())}),[e]);var r=function(){};return Object(Ee.jsx)("div",{className:"col-md-10",children:Object(Ee.jsx)("div",{className:"row",children:a?Object(Ee.jsx)("h3",{children:"Loading..."}):n.length?n.map((function(e){return Object(Ee.jsx)(ke,{isEdit:!0,car:e,submitOrder:r},e._id)})):Object(Ee.jsx)("h3",{children:"No cars found"})})})},Xe=function(){var e=Object(je.h)().pathname,t=Object(Ee.jsx)(ze,{});return"/profile/cars"===e&&(t=Object(Ee.jsx)(Ke,{})),Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsx)(Je,{}),t]})},Ze=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.cart})).cars,a=function(t){e(_e(t))};return Object(Ee.jsx)("div",{className:"row",children:Object(Ee.jsxs)("div",{className:"col-md-8 mx-auto",children:[Object(Ee.jsx)("h1",{children:"Cart"}),t.length?Object(Ee.jsxs)("table",{className:"table",children:[Object(Ee.jsx)("thead",{children:Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{scope:"col",children:"#"}),Object(Ee.jsx)("th",{scope:"col",children:"Name"}),Object(Ee.jsx)("th",{scope:"col",children:"Category"}),Object(Ee.jsx)("th",{scope:"col",children:"Price"}),Object(Ee.jsx)("th",{scope:"col"})]})}),Object(Ee.jsx)("tbody",{children:t.map((function(e,t){return Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{scope:"row",children:t+1}),Object(Ee.jsx)("td",{children:e.name}),Object(Ee.jsx)("td",{children:e.category.name}),Object(Ee.jsx)("td",{children:e.price}),Object(Ee.jsx)("td",{children:Object(Ee.jsx)("button",{onClick:a.bind(null,e._id),className:"btn btn-danger btn-sm",children:Object(Ee.jsx)("i",{className:"fas fa-trash"})})})]},e._id)}))})]}):Object(Ee.jsx)("h3",{children:"No car found"})]})})},et=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.searchCarList})),a=t.loading,n=t.cars,r=Object(je.h)().search.split("=")[1];return Object(c.useEffect)((function(){e(function(e){return function(){var t=Object(he.a)(Oe.a.mark((function t(a){var c,n,r,s,l,i;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:z}),c="name[regex]=".concat(e,"&name[options]=i"),t.prev=2,t.next=5,Ne(c);case 5:n=t.sent,r=n.data,a({type:K,payload:r.data.cars,totalCars:r.totalDocuments}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),i=(null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.err)||"something went wrong",a({type:X,payload:i});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}(r))}),[e,r]),a?Object(Ee.jsx)("h3",{children:"Loading..."}):Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsxs)("h3",{children:['Search "',r,'"']}),n.length?n.map((function(e){return Object(Ee.jsx)(ke,{car:e},e._id)})):Object(Ee.jsx)("h3",{children:"No cars found!"})]})},tt=function(e){return ge.get("/review/review/all/".concat(e))},at=function(e){return ge.post("/review/review",e)},ct=a(41),nt=a.n(ct),rt=function(e){var t=e.review,a=Object(l.c)((function(e){return e.auth})).user.fullName;return Object(Ee.jsx)("li",{children:Object(Ee.jsxs)("div",{className:"d-flex",children:[Object(Ee.jsx)("div",{className:"left",children:Object(Ee.jsx)("span",{children:Object(Ee.jsx)("img",{src:"https://bootdey.com/img/Content/avatar/avatar1.png",className:"profile-pict-img img-fluid",alt:""})})}),Object(Ee.jsxs)("div",{className:"right",children:[Object(Ee.jsxs)("h4",{children:[t.user.fullName||a,Object(Ee.jsxs)("span",{className:"gig-rating text-body-2",children:[Object(Ee.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1792 1792",width:"15",height:"15",children:Object(Ee.jsx)("path",{fill:"currentColor",d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})}),t.rating]})]}),Object(Ee.jsx)("div",{className:"review-description",children:Object(Ee.jsx)("p",{children:t.review})}),Object(Ee.jsxs)("span",{className:"publish py-3 d-inline-block w-100",children:["Published ",Object(Ee.jsx)(nt.a,{fromNow:!0,children:t.createdAt})]})]})]})})},st=a(42),lt=(a(79),function(e){var t=e.carId,a=e.onClose,n=Object(l.b)(),r=Object(l.c)((function(e){return e.createReview})).loading,s=Object(c.useState)(1),i=Object(Ge.a)(s,2),o=i[0],d=i[1],u=Object(c.useRef)(null);return Object(Ee.jsx)("div",{className:"reviewModal",children:Object(Ee.jsxs)("div",{className:"reviewModal__content d-inline-block",children:[Object(Ee.jsx)("span",{className:"close-icon",onClick:a,children:Object(Ee.jsx)("i",{className:"fas fa-times"})}),Object(Ee.jsx)("h3",{children:"Review"}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{className:"form-label",children:"Rating"}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)("h5",{children:[o,"/5"]}),Object(Ee.jsx)(st.a,{onChange:function(e){return d(e)},initialRating:o,className:"d-block startColor",emptySymbol:Object(Ee.jsx)("i",{className:"far fa-star"}),fullSymbol:Object(Ee.jsx)("i",{className:"fas fa-star"})})]})]}),Object(Ee.jsxs)("div",{className:"mb-3",children:[Object(Ee.jsx)("label",{className:"form-label",htmlFor:"text",children:"Text"}),Object(Ee.jsx)("textarea",{ref:u,id:"text",placeholder:"Review",className:"form-control"})]}),Object(Ee.jsx)("button",{disabled:r,onClick:function(e){var c=u.current.value;c?n(function(e,t){return function(){var a=Object(he.a)(Oe.a.mark((function a(c){var n,r,s,l,i;return Oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c({type:re}),a.prev=1,a.next=4,at(e);case 4:n=a.sent,r=n.data,c({type:se,payload:r.data.review}),t(),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),i=(null===a.t0||void 0===a.t0||null===(s=a.t0.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.err)||"something went wrong",alert(i),c({type:le,payload:i});case 15:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}({review:c,rating:o,car:t},a)):alert("Please write your review")},className:"btn btn-primary",children:"Submit"})]})})}),it=function(){var e=Object(je.g)().push,t=Object(c.useState)(!1),a=Object(Ge.a)(t,2),n=a[0],r=a[1],s=Object(je.i)(),i=Object(l.b)(),o=Object(l.c)((function(e){return e.allCarReviews})),d=o.reviews,u=o.loading,b=Object(l.c)((function(e){return e.auth})).token,j=function(){b?r((function(e){return!e})):e("/signin")};return Object(c.useEffect)((function(){var e;i((e=s.id,function(){var t=Object(he.a)(Oe.a.mark((function t(a){var c,n,r,s,l;return Oe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ae}),t.prev=1,t.next=4,tt(e);case 4:c=t.sent,n=c.data,a({type:ce,payload:n.data.reviews}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),l=(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.err)||"something went wrong",alert(l),a({type:ne,payload:l});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[i,s]),u?Object(Ee.jsx)("div",{id:"reviews",className:"review-section",children:Object(Ee.jsx)("div",{className:"d-flex align-items-center justify-content-between",children:Object(Ee.jsx)("h4",{className:"m-0",children:"Loading..."})})}):Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("div",{id:"reviews",className:"review-section",children:Object(Ee.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(Ee.jsxs)("h4",{className:"m-0",children:[d.length," Reviews"]}),Object(Ee.jsx)("button",{className:"btn btn-secondary",onClick:j,children:"Add Review"})]})}),Object(Ee.jsx)("div",{className:"review-list",children:Object(Ee.jsx)("ul",{children:d.map((function(e){return Object(Ee.jsx)(rt,{review:e},e._id)}))})}),n&&Object(Ee.jsx)(lt,{carId:s.id,onClose:j})]})},ot=function(){Object(je.i)();var e=Object(l.b)(),t=Object(l.c)((function(e){return e.detailCar})).car,a=Object(l.c)((function(e){return e.cart})).cars.findIndex((function(e){return e._id===t._id}))>-1;return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("div",{className:"row",children:Object(Ee.jsx)("div",{className:"col",children:Object(Ee.jsxs)("div",{className:"row",children:[Object(Ee.jsx)("div",{className:"col-md-4",children:Object(Ee.jsx)("img",{className:"img-fluid",src:t.image,alt:"car",height:"400"})}),Object(Ee.jsxs)("div",{className:"col-md-8",children:[Object(Ee.jsx)("h4",{className:"card-title",children:t.name}),Object(Ee.jsxs)("h5",{className:"card-subtitle mb-2",style:{color:"#f39c12"},children:["Rating: ",Object(Ee.jsx)("i",{className:"fas fa-star"})," ",t.ratingsAverage]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Category: ",t.category.name]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Price:",t.price]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Mileage: ",t.mileage," miles"]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Brand: ",t.brand]}),Object(Ee.jsxs)("h6",{className:"card-subtitle mb-2 text-muted",children:["Location: ",t.location]}),Object(Ee.jsx)("div",{className:"d-grid",children:a?Object(Ee.jsxs)("button",{onClick:function(t){e(_e(t))}.bind(null,t._id),className:"btn btn-danger mt-3 btn-block",children:[Object(Ee.jsx)("i",{className:"fas fa-minus-circle mr-2 d-inline-block"}),"Remove from cart"]}):Object(Ee.jsxs)("button",{onClick:function(t){e(Ce(t))}.bind(null,t),className:"btn btn-primary mt-3 btn-block",children:[Object(Ee.jsx)("i",{className:"fas fa-shopping-cart"})," Add to cart"]})})]})]})})}),Object(Ee.jsx)("div",{className:"row",children:Object(Ee.jsx)("div",{className:"col",children:Object(Ee.jsx)(it,{})})})]})};var dt=function(){return Object(Ee.jsx)(Le,{children:Object(Ee.jsxs)(je.d,{children:[Object(Ee.jsx)(je.b,{path:"/signin",component:Fe}),Object(Ee.jsx)(je.b,{path:"/signup",component:De}),Object(Ee.jsx)(je.b,{path:"/dashboard",component:We}),Object(Ee.jsx)(je.b,{path:"/add-car",component:He}),Object(Ee.jsx)(je.b,{path:"/profile",component:Xe}),Object(Ee.jsx)(je.b,{path:"/cart",component:Ze}),Object(Ee.jsx)(je.b,{path:"/search",component:et}),Object(Ee.jsx)(je.b,{path:"/car-details/:id",component:ot}),Object(Ee.jsx)(je.b,{path:"/",render:function(){return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Ae,{}),Object(Ee.jsx)(Se,{})]})}})]})})};a(80);s.a.render(Object(Ee.jsx)(n.a.StrictMode,{children:Object(Ee.jsx)(l.a,{store:ue,children:Object(Ee.jsx)(be.a,{children:Object(Ee.jsx)(dt,{})})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.7208e70c.chunk.js.map